<!doctype html><html lang=zh><head><meta http-equiv=content-type content="text/html" charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/tailwind.min.b39a406edef2cbbd2ccee2cbd368a787bfad3ac016440c2b37558902050cf85d.css integrity=sha256-s5pAbt7yy70szuLL02inh7+tOsAWRAwrN1WJAgUM+F0=><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Lora&display=swap" rel=stylesheet><script src=https://kit.fontawesome.com/9cc9e9e3f3.js crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2.6.3/dist/cdn/docsearch.min.css><title>Windows Task</title></head><body class="flex flex-col"><header class="flex fixed bg-white w-full p-4 font-title text-xl border-b"><div class="logo flex-1"><a href=/ class=font-title>Forgotten Land</a></div><nav class="flex-initial ml-4"><div id=归档 class=inline><a href=/metapages/archive/ class="mx-2 hover:text-blue-200">归档</a></div><div id=分类 class=inline><a href=/categories/ class="mx-2 hover:text-blue-200">分类</a><div class=absolute></div></div><div id=标签 class=inline><a href=/tags/ class="mx-2 hover:text-blue-200">标签</a></div><div id=关于 class=inline><a href=/metapages/about/ class="mx-2 hover:text-blue-200">关于</a></div></nav></header><div class="flex-grow mt-24"><div class=flex><div class="md:w-4/5 lg:w-2/3 max-w-screen-lg mx-auto p-4 shadow-2xl"><h1 class="font-title text-4xl text-center mb-4">Windows Task</h1><div class="flex justify-center font-mono"><div class="mr-6 flex-none"><i class="fas fa-calendar mr-1"></i>
<span>2021-04-07</span></div><div class="mr-6 flex-none"><i class="fas fa-clock mr-1"></i>
<span>阅读时长约 1 分钟</span></div></div><article class=content><h2 id=window下设置定时任务>Window下设置定时任务</h2><h3 id=设置定时程序>设置定时程序</h3><p>Windows搜索<strong>任务计划程序</strong>，一个典型的Windows三栏设计，右边可以选择创建任务或创建基本任务：<img src=https://causality-blog.oss-cn-hangzhou.aliyuncs.com/hugo/notes/tech/windows-task/image-20210407212208588.png alt=image-20210407212208588></p><p>我这里选择创建基本任务，然后依次设定即可：</p><p><img src=https://causality-blog.oss-cn-hangzhou.aliyuncs.com/hugo/notes/tech/windows-task/image-20210407212647749.png alt=image-20210407212647749></p><h3 id=编写需要执行的定时执行的程序>编写需要执行的定时执行的程序</h3><p>操作一般是启动一个程序或是执行一个操作之类的，这里我设计的是生成网站源码，然后push到github pages上，操作比较简单，所以使用一个bat脚本来实现，因此需要编写一个bat脚本。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bat data-lang=bat>@<span style=color:#66d9ef>echo</span> off
<span style=color:#66d9ef>path</span> = %path%

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;---------------------------------------------------&#34;</span> &gt;&gt; UpdateSite.log
D:
<span style=color:#66d9ef>CD</span> <span style=color:#e6db74>&#34;\WorkSpace\Hugo\Site-Src&#34;</span>
hugo &gt;&gt; %~dp0/UpdateSite.log

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Push to gitpages ...&#34;</span>
<span style=color:#66d9ef>CD</span> <span style=color:#e6db74>&#34;\WorkSpace\Hugo\Site-Src\public&#34;</span>
git add . &gt;&gt; %~dp0/UpdateSite.log <span style=color:#ae81ff>2</span>&gt;&gt;&amp;<span style=color:#ae81ff>1</span>
git commit -m <span style=color:#e6db74>&#34;Update on </span>%DATE%<span style=color:#e6db74>&#34;</span> &gt;&gt; %~dp0/UpdateSite.log <span style=color:#ae81ff>2</span>&gt;&gt;&amp;<span style=color:#ae81ff>1</span>
git push &gt;&gt; %~dp0/UpdateSite.log <span style=color:#ae81ff>2</span>&gt;&gt;&amp;<span style=color:#ae81ff>1</span>

<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;Update Site On </span>%DATE%<span style=color:#e6db74>&#34;</span> &gt;&gt; %~dp0/UpdateSite.log
<span style=color:#66d9ef>echo</span> <span style=color:#e6db74>&#34;---------------------------------------------------&#34;</span> &gt;&gt; %~dp0/UpdateSite.log

<span style=color:#66d9ef>exit</span>
</code></pre></div></article><link rel=stylesheet href=https://unpkg.com/gitalk/dist/gitalk.css><script src=https://unpkg.com/gitalk/dist/gitalk.min.js></script><div id=gitalk></div><script>var gitalk=new Gitalk({clientID:'9a04c6b451fbce76511d',clientSecret:'430c540c77ecd6b59749c60f0341c057bd5320a0',repo:'Causa1ity.github.io',owner:'Causa1ity',admin:'Causa1ity',id:'misc/tech/windows-task',distractionFreeMode:!1});gitalk.render('gitalk')</script></div><div class="flex-initial hidden lg:block lg:w-40 xl:w-60 2xl:w-80"><div class=fixed><h2 class="font-title text-2xl mb-4">Windows Task</h2><div class="font-mono text-xl"><nav id=TableOfContents><ul><li><a href=#window下设置定时任务>Window下设置定时任务</a><ul><li><a href=#设置定时程序>设置定时程序</a></li><li><a href=#编写需要执行的定时执行的程序>编写需要执行的定时执行的程序</a></li></ul></li></ul></nav></div></div></div></div></div><footer class=flex-auto><div class="font-title text-center my-4"><p class=text-lg>Powered By <a href=https://gohugo.io>Hugo</a></p></div></footer></body></html>